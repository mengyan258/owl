# 文件存储配置
# 默认存储驱动 (local, s3, minio, oss, cos, qiniu)
driver: local

# 本地存储配置
local:
  # 存储根目录
  root: ./storage
  # URL 前缀
  url-prefix: /storage
  # 是否创建目录结构
  create-dirs: true
  # 目录权限
  dir-mode: 0755
  # 文件权限
  file-mode: 0644
  # 日期格式
  date-format: "2006/01/02"

# Amazon S3 配置
s3:
  # 访问密钥 ID
  access-key-id: ""
  # 访问密钥
  secret-access-key: ""
  # 区域
  region: us-east-1
  # 存储桶名称
  bucket: ""
  # 端点 URL（可选）
  endpoint: ""
  # 是否使用 HTTPS
  use-ssl: true
  # 是否使用路径样式
  path-style: false
  # 默认 ACL
  acl: private
  # URL 前缀
  url-prefix: ""
  # 日期格式
  date-format: "2006/01/02"

# MinIO 配置
minio:
  # 端点
  endpoint: localhost:9000
  # 访问密钥 ID
  access-key-id: minioadmin
  # 访问密钥
  secret-access-key: minioadmin
  # 是否使用 HTTPS
  use-ssl: false
  # 存储桶名称
  bucket: uploads
  # 区域
  region: us-east-1
  # URL 前缀
  url-prefix: ""
  # 日期格式
  date-format: "2006/01/02"

# 阿里云 OSS 配置
oss:
  # 访问密钥 ID
  access-key-id: ""
  # 访问密钥
  secret-access-key: ""
  # 端点
  endpoint: ""
  # 存储桶名称
  bucket: ""
  # 是否使用 HTTPS
  use-ssl: true
  # URL 前缀
  url-prefix: ""
  # 日期格式
  date-format: "Y-m-d"

# 腾讯云 COS 配置
cos:
  # 访问密钥 ID
  secret-id: ""
  # 访问密钥
  secret-key: ""
  # 区域
  region: ""
  # 存储桶名称
  bucket: ""
  # 是否使用 HTTPS
  use-ssl: true
  # URL 前缀
  url-prefix: ""
  # 日期格式
  date-format: "Y-m-d"

# 七牛云配置
qiniu:
  # 访问密钥
  access-key: ""
  # 访问密钥
  secret-key: ""
  # 存储桶名称
  bucket: ""
  # 域名
  domain: ""
  # 是否使用 HTTPS
  use-ssl: true
  # 区域 (z0/华东, z1/华北, z2/华南, na0/北美, as0/新加坡, 华东浙江2区)
  zone: ""
  # 日期格式
  date-format: "Y-m-d"

# 文件上传配置
upload:
  # 最大文件大小（字节）
  max-file-size: 10485760  # 10MB
  # 允许的文件类型
  allowed-types:
    - image/jpeg
    - image/png
    - image/gif
    - image/webp
    - application/pdf
    - text/plain
    - application/json
    - application/xml
  # 允许的文件扩展名
  allowed-extensions:
    - .jpg
    - .jpeg
    - .png
    - .gif
    - .webp
    - .pdf
    - .txt
    - .json
    - .xml
  # 是否检查文件类型
  check-file-type: true
  # 是否生成唯一文件名
  unique-filename: true
  # 文件名生成方式 (uuid, timestamp, hash, original)
  filename-strategy: uuid
  # 是否保留原始文件名
  keep-original-name: false

# 图片处理配置
image:
  # 是否启用图片处理
  enabled: true
  # 默认质量
  quality: 85
  # 支持的格式
  formats:
    - jpeg
    - png
    - webp
    - gif
  # 缩略图配置
  thumbnails:
    small:
      width: 150
      height: 150
      mode: crop  # crop, resize, fit
    medium:
      width: 300
      height: 300
      mode: crop
    large:
      width: 800
      height: 600
      mode: resize
  # 水印配置
  watermark:
    enabled: false
    image: ""
    position: bottom-right  # top-left, top-right, bottom-left, bottom-right, center
    opacity: 0.5
    margin: 10

# 安全配置
security:
  # 是否启用病毒扫描
  virus-scan: false
  # 病毒扫描命令
  scan-command: ""
  # 是否检查文件内容
  content-check: true
  # 禁止的文件类型
  forbidden-types:
    - application/x-executable
    - application/x-msdownload
    - application/x-msdos-program
  # 禁止的文件扩展名
  forbidden-extensions:
    - .exe
    - .bat
    - .cmd
    - .com
    - .scr
    - .pif

# 缓存配置
cache:
  # 是否启用缓存
  enabled: true
  # 缓存驱动 (memory, redis, file)
  driver: memory
  # 缓存过期时间（秒）
  ttl: 3600
  # 缓存前缀
  prefix: "storage:"

# 监控配置
monitoring:
  # 是否启用监控
  enabled: false
  # 监控间隔（秒）
  interval: 60
  # 是否监控存储空间
  monitor-space: true
  # 是否监控文件数量
  monitor-files: true
  # 是否监控上传速度
  monitor-speed: true
